import{_ as B,a as j}from"./Footer.1fa0ed34.js";import{f as C,u as N,v as g,x as A,h as f,r as D,y as R,o as r,c as i,a as t,i as x,j as e,z as b,A as v,B as I,C as K,l as S,t as a,D as V}from"./entry.248a4b76.js";import"./nuxt-link.e2e226c1.js";const z={class:"project-page"},F={class:"project-header pt-5"},M={class:"container mx-auto relative"},$={class:"container project-container mx-auto -mt-56"},E={class:"flex mt-3"},L={class:"w-3/4 mr-6"},T={class:"bg-white p-3 mb-3 border border-gray-400 rounded-20"},U={class:"item-image"},q=["src"],G={class:"relative w-1/4 bg-white m-2 p-2 border border-gray-400 rounded-20"},H={class:"item-thumbnail"},J=["src","onClick"],O={class:"w-1/4"},P={class:"bg-white w-full p-5 border border-gray-400 rounded-20 sticky",style:{top:"15px"}},Q=t("h4",{class:"mt-5 font-semibold"},"Apa yang kamu dapatkan:",-1),W={class:"list-check mt-3"},X=["onKeyup"],Y={class:"container mx-auto pt-8 mb-20"},Z={class:"flex justify-between items-center"},tt={class:"w-full md:w-3/4 mr-6"},et={class:"text-4xl text-gray-900 mb-2 font-medium"},st={class:"font-light text-xl mb-5"},ot={class:"font-light text-md text-gray-400"},nt={class:"relative progress-bar"},at={class:"overflow-hidden mb-4 text-xs flex rounded-full bg-gray-200 h-6"},rt={class:"flex progress-info mb-6"},it={class:"text-2xl"},ct={class:"ml-auto font-semibold text-2xl"},lt={class:"font-light text-xl mb-5"},dt=t("div",{class:"w-1/4 hidden md:block"},null,-1),ft=C({__name:"[id]",setup(ut){const{$api:d}=N(),u=g().public.apiBase,_=A().params.id,m=_.length>0?_[0]:"0";let s=f({id:0,name:"",short_description:"",description:"",image_url:"",goal_amount:0,current_amount:0,slug:"",user_id:0,perks:[],backer_count:0,images:[]}),c=f(""),l=D({amount:0,campaign_id:Number.parseInt(m)});const y=o=>{c.value=o},p=async()=>{try{let o=await d.transaction.create(l);window.location.href=o.payment_url,console.log(o.payment_url)}catch(o){console.error(o)}};return R(async()=>{try{s.value=await d.campaign.get(m),c.value=g().public.apiBase+"/"+s.value.image_url}catch(o){console.error(o)}}),(o,h)=>{const w=B,k=j;return r(),i("div",z,[t("section",F,[t("div",M,[x(w)])]),t("section",$,[t("div",E,[t("div",L,[t("div",T,[t("figure",U,[t("img",{src:e(c),alt:"",class:"rounded-20 w-full"},null,8,q)])]),(r(!0),i(b,null,v(e(s).images,n=>(r(),i("div",{key:n.image_url,class:"flex -mx-2"},[t("div",G,[t("figure",H,[t("img",{src:e(u)+"/"+n.image_url,alt:"",class:"rounded-20 w-full",onClick:mt=>y(e(u)+"/"+n.image_url)},null,8,J)])])]))),128))]),t("div",O,[t("div",P,[Q,t("ul",W,[(r(!0),i(b,null,v(e(s).perks,n=>(r(),i("li",{key:n},a(n),1))),128))]),I(t("input",{"onUpdate:modelValue":h[0]||(h[0]=n=>e(l).amount=n),type:"number",class:"border border-gray-500 block w-full px-6 py-3 mt-4 rounded-full text-gray-800 transition duration-300 ease-in-out focus:outline-none focus:shadow-outline",placeholder:"Amount in Rp",onKeyup:S(p,["enter"])},null,40,X),[[K,e(l).amount,void 0,{number:!0}]]),t("button",{class:"text-center mt-3 button-cta block w-full bg-orange-button hover:bg-orange-hover text-white font-medium px-6 py-3 text-md rounded-full",onClick:p}," Donasi Sekarang ")])])])]),t("section",Y,[t("div",Z,[t("div",tt,[t("h2",et,a(e(s).name),1),t("p",st,a(e(s).short_description),1),t("div",ot,a(e(s).backer_count)+" donatur ",1),t("div",nt,[t("div",at,[t("div",{style:V("width: "+e(s).current_amount/e(s).goal_amount*100+"%"),class:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-purple-progress progress-striped"},null,4)])]),t("div",rt,[t("div",it,a(e(s).current_amount/e(s).goal_amount*100)+"% ",1),t("div",ct," Rp "+a(e(s).goal_amount),1)]),t("p",lt,a(e(s).description),1)]),dt])]),x(k)])}}});export{ft as default};
