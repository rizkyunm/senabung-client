import{_ as L}from"./nuxt-link.19ed2f35.js";import{f as N,u as S,g as U,r as j,h,o as k,d as y,w as i,a as e,i as n,j as o,b as p,n as u,t as c,k as B,l as E,T as K,e as M,F,m as T,p as m,q as $,s as D,_ as P}from"./entry.3e678935.js";import{_ as R}from"./ErrorModal.85fa5f97.js";var V=(r=>(r.Admin="admin",r.Client="client",r))(V||{});const d=r=>($("data-v-dca38acf"),r=r(),D(),r),z={class:"flex justify-center items-center"},G={class:"w-full flex md:h-screen h-fit justify-center items-center"},H=d(()=>e("h2",{class:"font-normal mt-7 mb-6 text-3xl text-white"}," Buat Akun Baru ",-1)),J={class:"mb-6 w-full"},O={class:"mb-4"},Q=d(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Nama Lengkap",-1)),W={class:"text-rose-500 text-sm ml-5"},X={class:"mb-6 w-full"},Y={class:"mb-4 lg:w-1/2 lg:inline-block"},Z=d(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Email",-1)),ee={class:"text-rose-500 ml-5"},oe={class:"mb-4 lg:pl-5 lg:w-1/2 lg:inline-block"},se=d(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Nomor Handphone",-1)),ae={class:"text-rose-500 text-sm ml-5"},te={class:"mb-6 w-full"},ne={class:"mb-4 lg:w-1/2 lg:inline-block"},le=d(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Password",-1)),re={class:"text-rose-500 text-sm ml-5"},de={class:"mb-4 lg:pl-5 lg:w-1/2 lg:inline-block"},ie=d(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Konfirmasi Password",-1)),ce={class:"text-rose-500 text-sm ml-5"},ue={class:"mb-6"},me={class:"mb-4"},_e=["disabled"],pe={class:"text-center"},fe={class:"text-white text-md"},be=d(()=>e("h3",{class:"font-bold text-lg text-rose-800"},"Gagal Daftar !",-1)),he={class:"py-4"},ge=N({__name:"daftar",setup(r){const{$api:g}=S(),{signIn:q}=U(),s=j({name:"",email:"",phone_number:"",password:"",role:V.Client}),A={name:"required|minLength:5|maxLength:30",email:"required|email",phone_number:"required|minLength:8|maxLength:15|number",password:"required|password",confirmation_password:"required|confirmed:password"},x=async()=>{try{(await g.auth.checkEmailAvailability(s.email)).is_available?(await g.auth.create(s),await q({email:s.email,password:s.password},{callbackUrl:"/unggah"})):(b.value="Email sudah terdaftar",_.value=!0)}catch{b.value="Terjadi kesalahan saat pendaftaran akun",_.value=!0}},f=h(""),b=h(""),_=h(!1);return(w,a)=>{const v=L,C=M;return k(),y(C,{name:"auth",class:"auth-background"},{default:i(()=>[e("div",z,[e("div",G,[n(o(F),{"validation-schema":A,class:"w-auto lg:w-3/4 p-10 pt-3 bg-green-progress bg-opacity-60 rounded-3xl",onSubmit:x},{default:i(({errors:t,meta:I})=>[n(v,{to:"/",class:"no-underline -ml-5 text-l text-orange-button hover:text-orange-hover"},{default:i(()=>[n(o(T),{icon:"fa-solid fa-arrow-left"}),p(" kembali ")]),_:1}),H,e("div",J,[e("div",O,[Q,n(o(m),{modelValue:o(s).name,"onUpdate:modelValue":a[0]||(a[0]=l=>o(s).name=l),type:"text",name:"name",class:u([t.name?"border-2 border-rose-600":"","auth-form focus:outline-none focus:bg-orange-200 focus:shadow-outline focus:border-orange-button-hover focus:text-green-progress"]),placeholder:"Masukkan nama lengkap anda"},null,8,["modelValue","class"]),e("span",W,c(t.name),1)])]),e("div",X,[e("div",Y,[Z,n(o(m),{modelValue:o(s).email,"onUpdate:modelValue":a[1]||(a[1]=l=>o(s).email=l),type:"email",name:"email",class:u([t.email?"border-2 border-rose-600":"","register-form focus:outline-none focus:bg-orange-200 focus:shadow-outline focus:border-orange-button-hover focus:text-green-progress"]),placeholder:"masukkan alamat email anda"},null,8,["modelValue","class"]),e("span",ee,c(t.email),1)]),e("div",oe,[se,n(o(m),{modelValue:o(s).phone_number,"onUpdate:modelValue":a[2]||(a[2]=l=>o(s).phone_number=l),type:"text",name:"phone_number",class:u([t.phone_number?"border-2 border-rose-600":"","register-form focus:outline-none focus:bg-orange-200 focus:shadow-outline focus:border-orange-button-hover focus:text-green-progress"]),placeholder:"Masukkan nomor telepon anda"},null,8,["modelValue","class"]),e("span",ae,c(t.phone_number),1)])]),e("div",te,[e("div",ne,[le,n(o(m),{modelValue:o(s).password,"onUpdate:modelValue":a[3]||(a[3]=l=>o(s).password=l),name:"password",type:"password",class:u([t.password?"border-2 border-rose-600":"","register-form focus:outline-none focus:bg-orange-200 focus:shadow-outline focus:border-orange-button-hover focus:text-green-progress"]),placeholder:"Masukkan password anda"},null,8,["modelValue","class"]),e("span",re,c(t.password),1)]),e("div",de,[ie,n(o(m),{modelValue:o(f),"onUpdate:modelValue":a[4]||(a[4]=l=>B(f)?f.value=l:null),name:"confirmation_password",type:"password",class:u([t.confirmation_password?"border-2 border-rose-600":"","register-form focus:outline-none focus:bg-orange-200 focus:shadow-outline focus:border-orange-button-hover focus:text-green-progress"]),placeholder:"Konfirmasi password anda",onKeyup:E(x,["enter"])},null,8,["modelValue","class","onKeyup"]),e("span",ce,c(t.confirmation_password),1)])]),e("div",ue,[e("div",me,[e("button",{class:"block w-full bg-orange-button hover:bg-orange-hover text-white font-semibold px-6 py-4 text-lg rounded-full disabled:bg-orange-disable",disabled:!I.valid}," Lanjutkan pendaftaran ",8,_e)])]),e("div",pe,[e("p",fe,[p(" Sudah punya akun? "),n(v,{to:"/masuk",class:"no-underline text-orange-button hover:text-orange-hover"},{default:i(()=>[p("Masuk")]),_:1}),p(". ")])])]),_:1})])]),(k(),y(K,{to:"body"},[n(R,{show:o(_),onClose:a[5]||(a[5]=t=>_.value=!1)},{header:i(()=>[be]),body:i(()=>[e("p",he,c(o(b)),1)]),_:1},8,["show"])]))]),_:1})}}});const ke=P(ge,[["__scopeId","data-v-dca38acf"]]);export{ke as default};
